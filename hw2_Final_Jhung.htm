<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=ks_c_5601-1987">
<meta name=Generator content="Microsoft Word 15 (filtered)">
<style>
<!--
 /* Font Definitions */
 @font-face
	{font-family:"Cambria Math";
	panose-1:2 4 5 3 5 4 6 3 2 4;}
@font-face
	{font-family:"¸¼Àº °íµñ";
	panose-1:2 11 5 3 2 0 0 2 0 4;}
@font-face
	{font-family:"\@¸¼Àº °íµñ";}
 /* Style Definitions */
 p.MsoNormal, li.MsoNormal, div.MsoNormal
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:107%;
	text-autospace:none;
	word-break:break-hangul;
	font-size:10.0pt;
	font-family:"¸¼Àº °íµñ";}
h1
	{mso-style-link:"Á¦¸ñ 1 Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:115%;
	page-break-after:avoid;
	text-autospace:none;
	word-break:break-hangul;
	font-size:14.0pt;
	font-family:"Times New Roman",serif;
	font-weight:normal;}
h2
	{mso-style-link:"Á¦¸ñ 2 Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:115%;
	page-break-after:avoid;
	text-autospace:none;
	word-break:break-hangul;
	font-size:12.0pt;
	font-family:"Times New Roman",serif;
	font-weight:normal;}
h3
	{mso-style-link:"Á¦¸ñ 3 Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:15.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	text-indent:-100.0pt;
	line-height:115%;
	page-break-after:avoid;
	text-autospace:none;
	word-break:break-hangul;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	font-weight:normal;}
p.MsoHeader, li.MsoHeader, div.MsoHeader
	{mso-style-link:"¸Ó¸®±Û Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:107%;
	layout-grid-mode:char;
	text-autospace:none;
	word-break:break-hangul;
	font-size:10.0pt;
	font-family:"¸¼Àº °íµñ";}
p.MsoFooter, li.MsoFooter, div.MsoFooter
	{mso-style-link:"¹Ù´Ú±Û Char";
	margin-top:0cm;
	margin-right:0cm;
	margin-bottom:8.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:107%;
	layout-grid-mode:char;
	text-autospace:none;
	word-break:break-hangul;
	font-size:10.0pt;
	font-family:"¸¼Àº °íµñ";}
p.MsoCaption, li.MsoCaption, div.MsoCaption
	{margin-top:0cm;
	margin-right:0cm;
	margin-bottom:10.0pt;
	margin-left:0cm;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:115%;
	text-autospace:none;
	word-break:break-hangul;
	font-size:10.0pt;
	font-family:"Times New Roman",serif;
	font-weight:bold;}
a:link, span.MsoHyperlink
	{color:#0563C1;
	text-decoration:underline;}
a:visited, span.MsoHyperlinkFollowed
	{color:#954F72;
	text-decoration:underline;}
span.1Char
	{mso-style-name:"Á¦¸ñ 1 Char";
	mso-style-link:"Á¦¸ñ 1";
	font-family:"Times New Roman",serif;}
span.2Char
	{mso-style-name:"Á¦¸ñ 2 Char";
	mso-style-link:"Á¦¸ñ 2";
	font-family:"Times New Roman",serif;}
span.3Char
	{mso-style-name:"Á¦¸ñ 3 Char";
	mso-style-link:"Á¦¸ñ 3";
	font-family:"Times New Roman",serif;}
span.Char
	{mso-style-name:"¸Ó¸®±Û Char";
	mso-style-link:¸Ó¸®±Û;}
span.Char0
	{mso-style-name:"¹Ù´Ú±Û Char";
	mso-style-link:¹Ù´Ú±Û;}
.MsoChpDefault
	{font-family:"¸¼Àº °íµñ";}
.MsoPapDefault
	{margin-bottom:8.0pt;
	text-align:justify;
	text-justify:inter-ideograph;
	line-height:107%;}
 /* Page Definitions */
 @page WordSection1
	{size:595.3pt 841.9pt;
	margin:3.0cm 72.0pt 72.0pt 72.0pt;}
div.WordSection1
	{page:WordSection1;}
-->
</style>

</head>

<body lang=KO link="#0563C1" vlink="#954F72">

<div class=WordSection1>

<h1><span lang=EN-US>Computational Photography Assignment #2: Eulerian Video
Magnification by Junekyo Jhung</span></h1>

<h1><span lang=EN-US>Initials and Color Transformation</span></h1>

<h2><span class=2Char><span lang=EN-US>MATLAB</span></span></h2>

<h2><span lang=EN-US><img width=601 height=213
src="hw2_Final_Jhung.files/image001.png"
alt="%% Initials and Color Transformation&#13;&#10;video_file = VideoReader('face.mp4');&#13;&#10;video_in = read(video_file);&#13;&#10;[height, width, channel, frame] = size(video_in);&#13;&#10; &#13;&#10;% Color magnification: RGB&#13;&#10;% rgb = im2double(video_in);&#13;&#10; &#13;&#10;% RGB to YIQ  &amp; double conversion&#13;&#10;yiq = zeros(height, width, channel, frame);&#13;&#10;for i = 1:frame&#13;&#10;    yiq(:,:,:,i) = rgb2ntsc(video_in(:,:,:,i));&#13;&#10;end&#13;&#10;yiq = im2double(yiq);&#13;&#10;"></span></h2>

<h2><span lang=EN-US>Results</span></h2>

<p class=MsoNormal align=left style='text-align:left;page-break-after:avoid'><span
lang=EN-US><img width=321 height=176 id="±×¸² 29"
src="hw2_Final_Jhung.files/image002.jpg"></span></p>

<p class=MsoCaption align=left style='text-align:left'><span lang=EN-US>Figure </span><span lang=EN-US>1</span><span lang=EN-US>. YIQ Result of baby2.mp4</span></p>

<p class=MsoNormal align=left style='text-align:left;page-break-after:avoid'><span
lang=EN-US><img width=207 height=232 id="±×¸² 30"
src="hw2_Final_Jhung.files/image003.jpg"></span></p>

<p class=MsoCaption align=left style='text-align:left'><span lang=EN-US>Figure </span><span lang=EN-US>2</span><span lang=EN-US>. YIQ Result of face.mp4</span></p>

<h2><span lang=EN-US>Description</span></h2>

<p class=MsoNormal style='margin-left:18.0pt'><span lang=EN-US>Load the video and
converted its color from RGB to YIQ using VideoReader() and rgb2ntsc()
functions.</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>Gaussian &amp; Laplacian Pyramid</span></h1>

<h2><span lang=EN-US>MATLAB</span></h2>

<p class=MsoNormal><span lang=EN-US><img width=601 height=513
src="hw2_Final_Jhung.files/image004.png"
alt="%% Gaussian &amp; Laplacian Pyramid&#13;&#10;Gauss = cell(1, level);&#13;&#10;% Color magnification&#13;&#10;% Gauss{1} = rgb;&#13;&#10;% size_rgb = size(rgb);&#13;&#10;% for i = 1:level-1&#13;&#10;%    for j = 1:size_rgb(4)&#13;&#10;%        Gauss{i + 1}(:,:,:,j) = impyramid(Gauss{i}(:,:,:,j), 'reduce');&#13;&#10;%    end&#13;&#10;% end&#13;&#10; &#13;&#10;% Motion magnification&#13;&#10;Gauss{1} = yiq;&#13;&#10;size_yiq = size(yiq);&#13;&#10;for i = 1:level-1&#13;&#10;   for j = 1:size_yiq(4)&#13;&#10;       Gauss{i + 1}(:,:,:,j) = impyramid(Gauss{i}(:,:,:,j), 'reduce');&#13;&#10;   end&#13;&#10;end&#13;&#10; &#13;&#10;Gauss_resize{5} = Gauss{5};&#13;&#10;Gauss{5} = 0;&#13;&#10;for i = level-1:-1:1&#13;&#10;   temp_size0 = size(Gauss_resize{i + 1}) * 2 - 1;&#13;&#10;   Gauss_resize{i} = Gauss{i}(1:temp_size0(1),1:temp_size0(2),:,:);&#13;&#10;   Gauss{i} = 0;&#13;&#10;end&#13;&#10; &#13;&#10;temp_size1 = size(Gauss_resize{4});&#13;&#10;for i = level-1:-1:1&#13;&#10;    for j = 1:temp_size1(4)&#13;&#10;        Laplac{i}(:,:,:,j) = Gauss_resize{i}(:,:,:,j)...&#13;&#10;            - (impyramid(Gauss_resize{i + 1}(:,:,:,j), 'expand'));&#13;&#10;    end&#13;&#10;end&#13;&#10;"></span></p>

<h2><span lang=EN-US>Results</span></h2>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US><img
width=321 height=177 id="±×¸² 31" src="hw2_Final_Jhung.files/image005.jpg"></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US><img
width=162 height=89 id="±×¸² 32" src="hw2_Final_Jhung.files/image006.jpg"></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US><img
width=82 height=47 id="±×¸² 33" src="hw2_Final_Jhung.files/image007.jpg"></span></p>

<p class=MsoNormal align=left style='text-align:left'><span lang=EN-US><img
width=42 height=24 id="±×¸² 34" src="hw2_Final_Jhung.files/image008.jpg"></span></p>

<p class=MsoNormal align=left style='text-align:left;page-break-after:avoid'><span
lang=EN-US><img width=22 height=13 id="±×¸² 35"
src="hw2_Final_Jhung.files/image009.jpg"></span></p>

<p class=MsoCaption align=left style='text-align:left'><span lang=EN-US>Figure </span><span lang=EN-US>3</span><span lang=EN-US>. Gaussian Pyramid Results</span></p>

<p class=MsoNormal align=left style='text-align:left;page-break-after:avoid'><span
lang=EN-US><img width=290 height=156 id="±×¸² 38"
src="hw2_Final_Jhung.files/image010.jpg"></span></p>

<p class=MsoCaption align=left style='text-align:left'><span lang=EN-US>Figure </span><span lang=EN-US>4</span><span lang=EN-US>. Laplacian Pyramid Result</span></p>

<h2><span lang=EN-US>Description</span></h2>

<h3 style='margin-left:15.0pt;text-indent:0cm'><span lang=EN-US>By using MATAB¡¯s
impyramid() function, downsample(¡®reduce¡¯) was used for each frame to create Gaussian
and Laplacian Pyramids. Total level is set to 5.</span></h3>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>Temporal Filtering</span></h1>

<h2><span lang=EN-US>MATLAB</span></h2>

<p class=MsoNormal><span lang=EN-US><img width=601 height=55
src="hw2_Final_Jhung.files/image011.png"
alt="Hd = butterworthBandpassFilter(Fs, N, Fc1, Fc2);&#13;&#10;NumSamples = frame;&#13;&#10;fftt = freqz(Hd, NumSamples);&#13;&#10;"></span></p>

<h2><span lang=EN-US>Results</span></h2>

<p class=MsoNormal align=left style='text-align:left;page-break-after:avoid'><span
lang=EN-US><img width=560 height=420 id="±×¸² 39"
src="hw2_Final_Jhung.files/image012.jpg"></span></p>

<p class=MsoCaption align=left style='text-align:left'><span lang=EN-US>Figure </span><span lang=EN-US>5</span><span lang=EN-US>. Butterworth Bandpass Filter between [5/6,
1], N=2</span></p>

<h2><span lang=EN-US>Description</span></h2>

<p class=MsoNormal style='text-indent:40.0pt'><span lang=EN-US>By using
Butterworth Bandpass Filter() as given in the project, the result was shown as
above with Sampling frequency to 30, Fc1 and Fc2 to 5/6 and 1, and N = 2.</span></p>

<h1><span lang=EN-US>&nbsp;</span></h1>

<h1><span lang=EN-US>Extracting the Frequency Band of Interest</span></h1>

<h2><span lang=EN-US>MATLAB</span></h2>

<p class=MsoNormal><span lang=EN-US><img width=601 height=327
src="hw2_Final_Jhung.files/image013.png"
alt="%% Extracting the Frequency Band of Interest&#13;&#10;for i = 1:4&#13;&#10;    img_config = size(Laplac{i});&#13;&#10;    for j = 1:img_config(2)&#13;&#10;        for k = 1:img_config(1)&#13;&#10;            temp(1:frame) = Laplac{i}(k,j,1,1:frame);&#13;&#10;            img_filtered_t(k,j,1,1:frame) = ifft((fft(temp) .* fftt'));&#13;&#10;        end&#13;&#10;    end&#13;&#10;    img_filtered_f{i} = img_filtered_t; &#13;&#10;    clear img_filtered_t;&#13;&#10;end&#13;&#10; &#13;&#10;% Image Amplification&#13;&#10;for i = 1:frame&#13;&#10;    img_amplified(:,:,1,i) = img_filtered_f{1}(:,:,1,i) + ...&#13;&#10;        alpha * (impyramid(img_filtered_f{2}(:,:,1,i), 'expand') + ...&#13;&#10;        impyramid(impyramid(img_filtered_f{3}(:,:,1,i), 'expand'), 'expand') + ...&#13;&#10;        impyramid(impyramid(impyramid(img_filtered_f{4}(:,:,1,i), 'expand'), 'expand'), 'expand'));&#13;&#10;end&#13;&#10;"></span></p>

<h2><span lang=EN-US>Description</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Transformed
the Laplacian Pyramid to 4D array form, and then applied fft and amplified the
image in frequency domain with value of alpha.</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<h1><span lang=EN-US>Image Reconsturction</span></h1>

<h2><span lang=EN-US>MATLAB</span></h2>

<p class=MsoNormal><span lang=EN-US><img width=601 height=298
src="hw2_Final_Jhung.files/image014.png"
alt="%% Image Reconstruction&#13;&#10;img_reconst = abs(Gauss_resize{1}(:,:,1,:) + img_amplified);&#13;&#10;clear img_amplified;&#13;&#10;for i = 1:frame&#13;&#10;    img_reconst(:,:,1,i) = imadjust(img_reconst(:,:,1,i), stretchlim(img_reconst(:,:,1,i)));&#13;&#10;end&#13;&#10; &#13;&#10;img_reconst(:,:,2:3,:) = Gauss_resize{1}(:,:,2:3,:);&#13;&#10; &#13;&#10;%% Make comment if Color magnification only&#13;&#10;for j = 1:frame&#13;&#10;    img_reconst(:,:,:,j) = ntsc2rgb(img_reconst(:,:,:,j));&#13;&#10;end&#13;&#10; &#13;&#10;%% Create&#13;&#10;video_out = VideoWriter('face_motion', 'MPEG-4');&#13;&#10;open(video_out);&#13;&#10;writeVideo(video_out, img_reconst);&#13;&#10;close(video_out);&#13;&#10;"></span></p>

<h2><span lang=EN-US>Description</span></h2>

<p class=MsoNormal><span lang=EN-US>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Image
has reconstructed with imadjust(), color map control function, and strechlim(),
contrast map control function, with gain parameter, alpha.</span></p>

<h2><span lang=EN-US>Results</span></h2>

<p class=MsoNormal><span lang=EN-US>COLOR</span></p>

<p class=MsoNormal><span lang=EN-US><a href="https://youtu.be/qkYzDfQ2mnM">baby2</a>
0.83Hz~1Hz, alpha = 100</span></p>

<p class=MsoNormal><span lang=EN-US><a href="https://youtu.be/Nt88vlaOiwM">baby2</a>
2Hz~3Hz, alpha = 150 (best)</span></p>

<p class=MsoNormal><span lang=EN-US><a href="https://youtu.be/IfWtE2QNA9A">face</a>
0.5Hz~0.75Hz, alpha = 100</span></p>

<p class=MsoNormal><span lang=EN-US><a href="https://youtu.be/8S9XYeO_6dY">face</a>
0.83Hz~1Hz, alpha = 200 (best)</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US>MOTION</span></p>

<p class=MsoNormal><span lang=EN-US><a
href="https://www.youtube.com/watch?v=wLnp6G6G_bA">baby2</a> 0.83Hz~1Hz, alpha
= 100</span></p>

<p class=MsoNormal><span lang=EN-US><a
href="https://www.youtube.com/watch?v=5jwPCPAtuRY">face</a> 0.83Hz~1Hz, alpha =
50 (best)</span></p>

<p class=MsoNormal><span lang=EN-US><a
href="https://www.youtube.com/watch?v=C44omubGAeM">face</a> 0.83Hz~1Hz, alpha =
100</span></p>

<p class=MsoNormal><span lang=EN-US><a
href="https://www.youtube.com/watch?v=q6lhc_Np42I&amp;feature=youtu.be">face</a>
1.5Hz~2.5Hz, alpha = 100</span></p>

<p class=MsoNormal><span lang=EN-US><a
href="https://www.youtube.com/watch?v=b9l2EMi_1SY&amp;feature=youtu.be">face</a>
2Hz~4Hz, alpha = 100</span></p>

<p class=MsoNormal><span lang=EN-US>&nbsp;</span></p>

<p class=MsoNormal><span lang=EN-US><a
href="https://www.youtube.com/watch?v=-ZnocKrOPDk">jk_original</a></span></p>

<p class=MsoNormal><span lang=EN-US><a href="https://youtu.be/m0g7n1zJleg">jk_color</a>
1Hz~1.6Hz, alpha = 100</span></p>

<p class=MsoNormal><span lang=EN-US><a href="https://youtu.be/6kHEWzvnN8s">jk_motion</a>
0.75Hz, alpha = 50</span></p>

</div>

</body>

</html>
